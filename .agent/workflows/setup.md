---
description: Initial setup workflow â€” verify CLI installations, check MCP connections, configure language and agent-CLI mapping
---

# MANDATORY RULES â€” VIOLATION IS FORBIDDEN

- **ì‘ë‹µ ì–¸ì–´ëŠ” `.agent/config/user-preferences.yaml`ì˜ `language` ì„¤ì •ì„ ë”°ë¥¸ë‹¤.**
  - ì„¤ì • íŒŒì¼ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’: í•œêµ­ì–´(ko)
  - ì„¤ì •ê°’ ì˜ˆì‹œ: ko(í•œêµ­ì–´), en(English), ja(æ—¥æœ¬èª), zh(ä¸­æ–‡)
- **NEVER skip steps.** Execute from Step 1 in order.
- **Read configuration files BEFORE making changes.**

---

## Step 1: ì–¸ì–´ ì„¤ì • í™•ì¸

1. `.agent/config/user-preferences.yaml` ì¡´ì¬ ì—¬ë¶€ í™•ì¸
2. ì—†ìœ¼ë©´:
   - ì‚¬ìš©ìì—ê²Œ ì–¸ì–´ ì„ íƒ ìš”ì²­ (ko, en, ja, zh, ...)
   - ê¸°ë³¸ ì„¤ì • íŒŒì¼ ìƒì„±
3. ìˆìœ¼ë©´:
   - í˜„ì¬ ì–¸ì–´ ì„¤ì • í‘œì‹œ
   - ë³€ê²½ ì—¬ë¶€ í™•ì¸

---

## Step 2: CLI ì„¤ì¹˜ ìƒíƒœ í™•ì¸

ê° CLI ì„¤ì¹˜ í™•ì¸:
```bash
which gemini && gemini --version
which claude && claude --version
which codex && codex --version
```

ê²°ê³¼ í‘œì‹œ:
```
ğŸ” CLI ì„¤ì¹˜ ìƒíƒœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLI     â”‚ ìƒíƒœ     â”‚ ë²„ì „        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ gemini  â”‚ âœ… ì„¤ì¹˜ë¨ â”‚ v2.1.0      â”‚
â”‚ claude  â”‚ âœ… ì„¤ì¹˜ë¨ â”‚ v1.0.30     â”‚
â”‚ codex   â”‚ âŒ ë¯¸ì„¤ì¹˜ â”‚ -           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ë¯¸ì„¤ì¹˜ CLIì— ëŒ€í•œ ì„¤ì¹˜ ê°€ì´ë“œ ì œê³µ:
- **gemini**: `npm install -g @anthropic-ai/gemini-cli`
- **claude**: `npm install -g @anthropic-ai/claude-code`
- **codex**: `npm install -g @openai/codex-cli`

---

## Step 3: MCP ì—°ê²° ìƒíƒœ í™•ì¸

1. `.agent/mcp.json` ì¡´ì¬ ë° êµ¬ì„± í™•ì¸
2. ê° CLIë³„ MCP ì„¤ì • ìƒíƒœ:
   - Gemini: `~/.gemini/settings.json`
   - Claude: `~/.claude.json` ë˜ëŠ” `--mcp-config`
   - Codex: `~/.codex/config.toml`
3. Serena MCP ì—°ê²° í…ŒìŠ¤íŠ¸

ê²°ê³¼ í‘œì‹œ:
```
ğŸ”— MCP ì—°ê²° ìƒíƒœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLI     â”‚ MCP ì„¤ì • â”‚ ì„œë²„                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ gemini  â”‚ âœ… ì„¤ì •ë¨ â”‚ serena              â”‚
â”‚ claude  â”‚ âœ… ì„¤ì •ë¨ â”‚ serena              â”‚
â”‚ codex   â”‚ âŒ ë¯¸ì„¤ì • â”‚ -                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ëˆ„ë½ëœ MCP ì„¤ì •ì— ëŒ€í•´:
- ì„¤ì • ë°©ë²• ì•ˆë‚´ í‘œì‹œ
- ìë™ ì„¤ì • ì˜µì…˜ ì œê³µ (ì„ íƒ)

---

## Step 4: ì—ì´ì „íŠ¸-CLI ë§¤í•‘ ì„¤ì •

1. í˜„ì¬ ë§¤í•‘ í‘œì‹œ
2. ë³€ê²½ ì—¬ë¶€ í™•ì¸:
   ```
   í˜„ì¬ ì—ì´ì „íŠ¸-CLI ë§¤í•‘:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent    â”‚ CLI     â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ frontend â”‚ gemini  â”‚
   â”‚ backend  â”‚ gemini  â”‚
   â”‚ mobile   â”‚ gemini  â”‚
   â”‚ pm       â”‚ gemini  â”‚
   â”‚ qa       â”‚ gemini  â”‚
   â”‚ debug    â”‚ gemini  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì˜ˆ: "backendë¥¼ codexë¡œ", "pmì„ claudeë¡œ")
   ```

3. ë³€ê²½ ìš”ì²­ ì‹œ `.agent/config/user-preferences.yaml` ì—…ë°ì´íŠ¸

---

## Step 5: ì„¤ì • ì™„ë£Œ ìš”ì•½

```
âœ… ì„¤ì • ì™„ë£Œ!

ğŸ“ ì„¤ì • ìš”ì•½:
- ì‘ë‹µ ì–¸ì–´: í•œêµ­ì–´ (ko)
- íƒ€ì„ì¡´: Asia/Seoul
- ì„¤ì¹˜ëœ CLI: gemini âœ…, claude âœ…, codex âŒ
- MCP ìƒíƒœ: Serena ì—°ê²°ë¨

ğŸ“‹ ì—ì´ì „íŠ¸-CLI ë§¤í•‘:
- frontend â†’ gemini
- backend â†’ gemini
- mobile â†’ gemini
- pm â†’ gemini
- qa â†’ gemini
- debug â†’ gemini

ğŸš€ ì‹œì‘í•˜ë ¤ë©´:
- /plan: í”„ë¡œì íŠ¸ ê³„íš ìˆ˜ë¦½
- /orchestrate: ìë™í™”ëœ ë©€í‹° ì—ì´ì „íŠ¸ ì‹¤í–‰
- /coordinate: ëŒ€í™”í˜• ë©€í‹° ì—ì´ì „íŠ¸ ì¡°ìœ¨
```
